// Language translations
const translations = {
    en: {
        "about-title": "About Us",
        "about-description": "We are a group of students who take part in different projects at the university. We help other students as Teaching Assistants in Lab Sessions, we contribute to the current research going on at the university, and support the community work that is done to interest more people in computer science and programming.",
        "header-projects": "Projects",
        "header-aboutUs": "About",
        "header-english": "English",
        "header-swedish": "Swedish",
        "TEP-description": "The Tutorial Educational Program is designed to offer students the possibility to work with the university as a Teaching Assistant, to gain some experience with research and to take part in community outreach.",
        "event-section-title": "What's happening?",
        "event1-title": "Project 1",
        "event1-description": "Id voluptate praesentium voluptatum fugiat quod porro quasi dignissimos aspernatur amet rem nobis eos odio molestias, sequi cupiditate quos, nihil suscipit officiis repellat.",
        "event2-title": "Research",
        "event2-description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi facilis saepe cupiditate impedit autem repellat sint velit inventore ipsam nihil?",
        "event3-title": "Community Outreach",
        "event3-description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia deleniti accusantium eligendi eius ipsam officia ad magnam similique minus rem iusto velit placeat, repellat veritatis?",
        "team-title": "Our Team",
        "team-description": "Our team consists of students from around the world studying various programs at LNU.",
        "member1-name": "Member 1",
        "member1-info": "Program name, year of studies",
        "member1-quote": "Here I am writing in English!",
        "member1-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member2-name": "Member 2",
        "member2-info": "Program name, year of studies",
        "member2-quote": "Here I am writing in English!",
        "member2-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member3-name": "Member 3",
        "member3-info": "Program name, year of studies",
        "member3-quote": "Here I am writing in English!",
        "member3-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member4-name": "Member 4",
        "member4-info": "Program name, year of studies",
        "member4-quote": "Here I am writing in English!",
        "member4-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member5-name": "Member 5",
        "member5-info": "Program name, year of studies",
        "member5-quote": "Here I am writing in English!",
        "member5-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member6-name": "Member 6",
        "member6-info": "Program name, year of studies",
        "member6-quote": "Here I am writing in English!",
        "member6-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member7-name": "Member 7",
        "member7-info": "Program name, year of studies",
        "member7-quote": "Here I am writing in English!",
        "member7-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member8-name": "Member 8",
        "member8-info": "Program name, year of studies",
        "member8-quote": "Here I am writing in English!",
        "member8-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "mission-title": "Our Mission",
        "mission-description": "TEP empowers students to grow as educators, researchers, and community leaders while contributing to meaningful projects at Linnaeus University.",
        "mission-point-1": "Develop teaching confidence with guided lab support.",
        "mission-point-2": "Explore applied research in collaboration with faculty.",
        "mission-point-3": "Lead outreach that inspires future students.",
        "what-is-tep-title": "What is TEP?",
        "what-is-tep-description": "The Tutorial Education Program offers flexible, paid roles for students who want to build their CV, strengthen academic skills, and make a campus-wide impact.",
        "what-is-tep-highlight-1": "Structured mentorship and training with experienced staff.",
        "what-is-tep-highlight-2": "Opportunities to connect coursework with real-world projects.",
        "what-is-tep-highlight-3": "Support for both English and Swedish speaking students.",
        "pillars-title": "Our Three Pillars",
        "pillars-description": "Every participant blends core responsibilities across teaching, research, and community work. You can focus on one track or rotate between them based on interest and availability.",
        "pillar-ta-title": "Teaching Assistance",
        "pillar-ta-description": "Guide lab sessions, answer course questions, and help classmates decode complex concepts.",
        "pillar-ta-point-1": "Paid part-time shifts that match your timetable.",
        "pillar-ta-point-2": "Real classroom experience with feedback from instructors.",
        "pillar-research-title": "Research Support",
        "pillar-research-description": "Work alongside faculty on active projects—from data analysis to prototyping and documentation.",
        "pillar-research-point-1": "Hands-on practice using academic tools and methods.",
        "pillar-research-point-2": "Co-create results you can proudly showcase in your CV.",
        "pillar-community-title": "Community Outreach",
        "pillar-community-description": "Design events and workshops that invite new voices into computing and celebrate diversity.",
        "pillar-community-point-1": "Collaborate with schools, associations, and local partners.",
        "pillar-community-point-2": "Inspire future students through interactive activities.",
        "community-title": "Build the TEP Community",
        "community-description": "We host meetups, peer-to-peer learning circles, and outreach projects that bring together students, staff, and partners across Kalmar and Växjö.",
        "community-highlight": "Share your interests with us and we'll help match you to TA roles, research sprints, or outreach teams.",
        "community-cta-primary": "Contact the TEP coordinators",
        "community-cta-secondary": "Meet our members",
        "community-stat-1-number": "25%-50%",
        "community-stat-1-label": "Flexible workload options",
        "community-stat-2-number": "3",
        "community-stat-2-label": "Integrated development paths",
        "community-stat-3-number": "Year-round",
        "community-stat-3-label": "Events, mentoring, and projects",
        "faq-title": "Frequently Asked Questions",
        "faq1-question": "Who can join the Tutorial Education Program?",
        "faq1-answer": "Undergraduate students from their second year onward and master's students enrolled in Computer Science or Media Technology at LNU.",
        "faq2-question": "Do I need previous teaching experience?",
        "faq2-answer": "No. We provide mentoring, onboarding workshops, and resources to help you feel confident supporting your peers.",
        "faq3-question": "How much time do I have to commit?",
        "faq3-answer": "You can work part-time at 25% or 50% depending on course load and availability. We schedule activities to fit your studies.",
        "faq4-question": "What types of projects will I work on?",
        "faq4-answer": "Assignments range from lab tutoring and research support to community workshops, coding clubs, and outreach events.",
    },
    sv: {
        "about-title": "Om Oss",
        "about-description": "Vi är en grupp studenter som deltar i olika projekt på universitetet. Vi hjälper andra studenter som handledare i labbsessioner, bidrar till den pågående forskningen på universitetet och stödjer samhällsarbetet som görs för att intressera fler för datavetenskap och programmering.",
        "header-projects": "Projekt",
        "header-aboutUs": "Om Oss",
        "header-english": "Svenska",
        "header-swedish": "Engelska",
        "TEP-description": "Det pedagogiska handledningsprogrammet är utformat för att erbjuda studenter möjligheten att arbeta med universitetet som handledare, att få erfarenhet av forskning och att delta i samhällsarbete.",
        "event-section-title": "Vad händer?",
        "event1-title": "Projekt 1",
        "event1-description": "Id voluptate praesentium voluptatum fugiat quod porro quasi dignissimos aspernatur amet rem nobis eos odio molestias, sequi cupiditate quos, nihil suscipit officiis repellat.",
        "event2-title": "Forskning",
        "event2-description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi facilis saepe cupiditate impedit autem repellat sint velit inventore ipsam nihil?",
        "event3-title": "Samhällsarbete",
        "event3-description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia deleniti accusantium eligendi eius ipsam officia ad magnam similique minus rem iusto velit placeat, repellat veritatis?",
        "team-title": "Vår Team",
        "team-description": "Vårt team består av studenter från hela världen som studerar olika program vid LNU.",
        "member1-name": "Medlem 1",
        "member1-info": "Programnamn, studieår",
        "member1-quote": "Här skriver jag på svenska!",
        "member1-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member2-name": "Medlem 2",
        "member2-info": "Programnamn, studieår",
        "member2-quote": "Här skriver jag på svenska!",
        "member2-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member3-name": "Medlem 3",
        "member3-info": "Programnamn, studieår",
        "member3-quote": "Här skriver jag på svenska!",
        "member3-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member4-name": "Medlem 4",
        "member4-info": "Programnamn, studieår",
        "member4-quote": "Här skriver jag på svenska!",
        "member4-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member5-name": "Medlem 5",
        "member5-info": "Programnamn, studieår",
        "member5-quote": "Här skriver jag på svenska!",
        "member5-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member6-name": "Medlem 6",
        "member6-info": "Programnamn, studieår",
        "member6-quote": "Här skriver jag på svenska!",
        "member6-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member7-name": "Medlem 7",
        "member7-info": "Programnamn, studieår",
        "member7-quote": "Här skriver jag på svenska!",
        "member7-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member8-name": "Medlem 8",
        "member8-info": "Programnamn, studieår",
        "member8-quote": "Här skriver jag på svenska!",
        "member8-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "mission-title": "Vårt uppdrag",
        "mission-description": "TEP ger studenter möjlighet att växa som lärare, forskare och samhällsbyggare samtidigt som de bidrar till meningsfulla projekt vid Linnéuniversitetet.",
        "mission-point-1": "Utveckla handledningssäkerhet genom stöd i labbsessioner.",
        "mission-point-2": "Utforska tillämpad forskning tillsammans med lärare.",
        "mission-point-3": "Driv aktiviteter som inspirerar framtida studenter.",
        "what-is-tep-title": "Vad är TEP?",
        "what-is-tep-description": "Tutorial Education Program erbjuder flexibla, avlönade uppdrag för studenter som vill stärka sitt CV, utveckla akademiska färdigheter och påverka campus.",
        "what-is-tep-highlight-1": "Strukturerad handledning och utbildning av erfarna medarbetare.",
        "what-is-tep-highlight-2": "Möjligheter att koppla kursarbete till verkliga projekt.",
        "what-is-tep-highlight-3": "Stöd för både engelsktalande och svensktalande studenter.",
        "pillars-title": "Våra tre pelare",
        "pillars-description": "Varje deltagare kombinerar ansvar inom undervisning, forskning och samhällsarbete. Du kan fokusera på ett spår eller växla beroende på intresse och tillgänglighet.",
        "pillar-ta-title": "Labb- och undervisningsstöd",
        "pillar-ta-description": "Stötta labbsessioner, svara på kursfrågor och hjälp klasskamrater att förstå svåra koncept.",
        "pillar-ta-point-1": "Avlönade deltids-pass som passar ditt schema.",
        "pillar-ta-point-2": "Praktisk klassrumserfarenhet med återkoppling från lärare.",
        "pillar-research-title": "Forskningsstöd",
        "pillar-research-description": "Arbeta tillsammans med lärare i pågående projekt – från dataanalys till prototyper och dokumentation.",
        "pillar-research-point-1": "Praktisk träning i akademiska metoder och verktyg.",
        "pillar-research-point-2": "Skapa resultat som du stolt kan visa i ditt CV.",
        "pillar-community-title": "Samhällsengagemang",
        "pillar-community-description": "Planera evenemang och workshops som bjuder in nya röster till IT och lyfter mångfald.",
        "pillar-community-point-1": "Samarbeta med skolor, föreningar och lokala partners.",
        "pillar-community-point-2": "Inspirera framtida studenter genom interaktiva aktiviteter.",
        "community-title": "Bygg TEP-gemenskapen",
        "community-description": "Vi arrangerar träffar, kollegialt lärande och outreach-projekt som samlar studenter, personal och partners i Kalmar och Växjö.",
        "community-highlight": "Berätta om dina intressen så matchar vi dig med TA-uppdrag, forskningsinsatser eller outreach-team.",
        "community-cta-primary": "Kontakta TEP-koordinatorerna",
        "community-cta-secondary": "Möt våra medlemmar",
        "community-stat-1-number": "25%-50%",
        "community-stat-1-label": "Flexibla omfattningar",
        "community-stat-2-number": "3",
        "community-stat-2-label": "Integrerade utvecklingsspår",
        "community-stat-3-number": "Året runt",
        "community-stat-3-label": "Evenemang, mentorskap och projekt",
        "faq-title": "Vanliga frågor",
        "faq1-question": "Vilka kan delta i Tutorial Education Program?",
        "faq1-answer": "Kandidatstudenter från och med år två samt masterstudenter inskrivna på Datavetenskap eller Medieteknik vid LNU.",
        "faq2-question": "Behöver jag tidigare undervisningserfarenhet?",
        "faq2-answer": "Nej. Vi erbjuder mentorskap, introduktionsworkshops och resurser som gör att du känner dig trygg i rollen.",
        "faq3-question": "Hur mycket tid måste jag lägga?",
        "faq3-answer": "Du kan arbeta deltid på 25% eller 50% beroende på studietakt och tillgänglighet. Vi planerar aktiviteterna så att de fungerar med dina studier.",
        "faq4-question": "Vilka typer av projekt får jag arbeta med?",
        "faq4-answer": "Uppdragen spänner från labbhandledning och forskningsstöd till workshops, kodklubbar och andra outreach-aktiviteter.",
    }
};

// Function to get a cookie
function getCookie(name) {
    const cookies = document.cookie.split("; ");
    for (const cookie of cookies) {
        const [key, value] = cookie.split("=");
        if (key === name) {
            return value;
        }
    }
    return null;
}

// Function to set a cookie
function setCookie(name, value, days) {
    const date = new Date();
    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
    document.cookie = `${name}=${value}; expires=${date.toUTCString()}; path=/; SameSite=Lax`;
}

// Load the saved language as early as possible
function loadSavedLanguage() {
    const savedLanguage = getCookie("selectedLanguage") || "en";
    document.documentElement.lang = savedLanguage; // Set language at document level immediately
}

function changeLanguage(language) {
    document.documentElement.lang = language;
    setCookie("selectedLanguage", language, 30); // Save language preference

    const elements = document.querySelectorAll("[data-lang]");
    elements.forEach((el) => {
        const key = el.getAttribute("data-lang");
        const newText = translations[language][key];

        // only update if the text is different
        if (newText && el.textContent !== newText) {
            el.textContent = newText;
        }
    });
}


// Attach language toggle event
function attachLanguageToggle() {
    const button = document.getElementById("change-language");

    if (button) {
        button.addEventListener("click", (e) => {
            e.preventDefault();
            const currentLang = document.documentElement.lang || "en";
            const newLang = currentLang === "en" ? "sv" : "en";
            changeLanguage(newLang);
        });
    } else {
        console.error("Language toggle button not found.");
    }
}

loadSavedLanguage(); // first apply the cookie to set the document language
changeLanguage(document.documentElement.lang); // then apply the language to the document right away
// then set it up so that once the DOM is loaded, the language toggle button gets its functioanlity
document.addEventListener("DOMContentLoaded", function () {
    attachLanguageToggle(); 
});
