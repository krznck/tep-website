// Language translations
const translations = {
    en: {
        "about-title": "About Us",
        "about-description": "We are a group of students who take part in different projects at the university. We help other students as Teaching Assistants in Lab Sessions, we contribute to the current research going on at the university, and support the community work that is done to interest more people in computer science and programming.",
        "header-projects": "Projects",
        "header-aboutUs": "About",
        "header-english": "English",
        "header-swedish": "Swedish",
        "TEP-description": "The Tutorial Educational Program (TEP) gives students the opportunity to actively engage with university life beyond their studies. As part of TEP, students can work as Teaching Assistants, contribute to research-related activities, support university events, and take part in outreach initiatives like programming workshops for kids. It's a chance to build skills, explore new interests, and be part of the broader university community.",
        "event-section-title": "What's happening?",
        "event1-title": "Welcome Fair Visit",
        "event1-description": "Some of our TEP students recently took part in the university's Welcome Fair, an event for kids and teens interested in applying in the future. Visitors got to interact with a robotic cat, that moved and behaved like a real cat. Our team was there to explain the tech behind it and show what kind of exciting projects you can be part of when you study here.",
        "event2-title": "Upcoming Kid's Programming Course",
        "event2-description": "In mid-June, some of our TEP students will be teaching a programming course for kids, using brand new material from Kodcentrum. The course runs from June 16–18, and there's also a plan to offer an additional afternoon session for kids and teens with prior programming experience. Preparations will include team meetings to get familiar with the content before the sessions begin.",
        "event3-title": "PRAO Week: Teaching Scratch",
        "event3-description": "Next week, some TEP students will be meeting two 14–15-year-old pupils visiting our university as part of their PRAO (job shadowing) experience. During their stay, we’ll be guiding them through a crash course in programming using Scratch, giving them a glimpse into student life and what it’s like to learn tech at the university.",
        "team-title": "Our Team",
        "team-description": "Our team consists of students from around the world studying various programs at LNU.",
        "member1-name": "Claudio Linhares",
        "member1-info": "CEO of the TEP. Dr. Claudio Linhares is a Senior Lecturer at Linnaeus University",
        "member1-quote": "To Be Updated",
        // "member1-projects": [
        // { name: "Project A", link: "#" },
        // { name: "Project B", link: "#" }
        // ],
        "member2-name": "Julia Bergön",
        "member2-info": "Master of Science in Computer Engineering, Year 2",
        "member2-quote": "Here I am writing in English!",
        "member2-projects": [
        { name: "DyNetVis2", link: "../projects.html" },
        // { name: "Project B", link: "#" }
        ],
        "member3-name": "Danial Gholamian",
        "member3-info": "Network Security, Year 2",
        // "member3-quote": "Here I am writing in English!",
        "member3-projects": [
        { name: "WebXR4 – Interactive 3D Force Graph in VR", link: "https://github.com/Danial-Gholamian/webxr4" },
        // { name: "Project B", link: "#" }
        ],
        "member4-name": "Petra Horváth",
        "member4-info": "Software Technology, Year 2",
        // "member4-quote": "Here I am writing in English!",
        "member4-projects": [
        { name: "ZigzagNetVis", link: "../projects.html" },
        // { name: "Project B", link: "#" }
        ],
        "member5-name": "Fatimah Ibrahim",
        "member5-info": "Network Security, Year 2",
        "member5-quote": "Here I am writing in English!",
        "member5-projects": [
        { name: "ZigzagNetVis", link: "../projects.html" },
        // { name: "Project B", link: "#" }
        ],
        "member6-name": "Maciej Jan Korzenecki",
        "member6-info": "Software Technology, Year 2",
        "member6-quote": "Here I am writing in English!",
        "member6-projects": [
        { name: "CopyFlyouts", link: "https://github.com/krznck/CopyFlyouts" },
        // { name: "Project B", link: "#" }
        ],
        "member7-name": "Martim R de Oliveira",
        "member7-info": "Program name, year of studies",
        "member7-quote": "Here I am writing in English!",
        "member7-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member8-name": "Alina Schwertfeger",
        "member8-info": "Network Security, Year 2",
        "member8-quote": "Here I am writing in English!",
        "member8-projects": [
        { name: "ZigzagNetVis", link: "../projects.html" },
        // { name: "Project B", link: "#" }
        ],
        "member9-name": "Anastasiia Zhelizniak",
        "member9-info": "Network Security, Year 2",
        "member9-quote": "Technology is a tool, but the real magic happens when it’s used to make a positive impact in people’s lives",
        "member9-projects": [
        { name: "DyNetVis2", link: "../projects.html" },
        { name: "Vilnerability Website Scanner", link: "https://vulnerability-scanner-f88713ea7401.herokuapp.com" }
        ],
    },
    sv: {
        "about-title": "Om Oss",
        "about-description": "Vi är en grupp studenter som deltar i olika projekt på universitetet. Vi hjälper andra studenter som handledare i labbsessioner, bidrar till den pågående forskningen på universitetet och stödjer samhällsarbetet som görs för att intressera fler för datavetenskap och programmering.",
        "header-projects": "Projekt",
        "header-aboutUs": "Om Oss",
        "header-english": "Svenska",
        "header-swedish": "Engelska",
        "TEP-description": "Den pedagogiska utbildningsprogrammet (TEP) ger studenter möjlighet att aktivt delta i universitetslivet utöver sina studier. Som en del av TEP kan studenter arbeta som handledare, bidra till forskningsrelaterade aktiviteter, stödja universitetsarrangemang och delta i outreach-initiativ som programmeringsworkshops för barn. Det är en chans att bygga färdigheter, utforska nya intressen och vara en del av det bredare universitetsgemenskapen.",
        "event-section-title": "Vad händer?",
        "event1-title": "Välkommen mässbesök",
        "event1-description": "Några av våra TEP-studenter deltog nyligen i universitetets Välkomna mässan, ett evenemang för barn och tonåringar som är intresserade av att söka i framtiden. Besökarna fick interagera med en robotkatt som rörde sig och betedde sig som en riktig katt. Vårt team var där för att förklara tekniken bakom den och visa vilken typ av spännande projekt du kan vara en del av när du studerar här.",
        "event2-title": "Kommande programmeringskurs för barn",
        "event2-description": "I mitten av juni kommer några av våra TEP-studenter att undervisa en programmeringskurs för barn, med helt nytt material från Kodcentrum. Kursen pågår från 16–18 juni, och det finns också en plan att erbjuda en extra eftermiddagssession för barn och tonåringar med tidigare programmeringserfarenhet. Förberedelserna kommer att inkludera teammöten för att bekanta sig med innehållet innan sessionerna börjar.",
        "event3-title": "PRAO Vecka: Undervisa Scratch",
        "event3-description": "Nästa vecka kommer några TEP-studenter att träffa två 14–15-åriga elever som besöker vårt universitet som en del av deras PRAO-upplevelse (job shadowing). Under vistelsen kommer vi att guida dem genom en snabbkurs i programmering med Scratch, vilket ger dem en inblick i studentlivet och hur det är att lära sig teknik på universitetet.",
        "team-title": "Vår Team",
        "team-description": "Vårt team består av studenter från hela världen som studerar olika program vid LNU.",
        "member1-name": "Claudio Linhares",
        "member1-info": "Dr. Claudio Linhares är lektor vid Linnéuniversitetet",
        "member1-quote": "Att uppdatera",
        // "member1-projects": [
        // { name: "Projekt A", link: "#" },
        // { name: "Projekt B", link: "#" }
        // ],
        "member2-name": "Julia Bergön",
        "member2-info": "Civilingenjör i datateknik, årskurs 2",
        // "member2-quote": "Här skriver jag på svenska!",
        "member2-projects": [
            { name: "DyNetVis2", link: "../projects.html" },
            // { name: "Project B", link: "#" }
        ],
        "member3-name": "Danial Gholamian",
        "member3-info": "Nätverkssäkerhet, årskurs 2",
        // "member3-quote": "Här skriver jag på svenska!",
        "member3-projects": [
        { name: "WebXR4 – Interactive 3D Force Graph i VR", link: "https://github.com/Danial-Gholamian/webxr4" },
        // { name: "Projekt B", link: "#" }
        ],
        "member4-name": "Petra Horváth",
        "member4-info": "Software Technology, årskurs 2",
        "member4-quote": "Här skriver jag på svenska!",
        "member4-projects": [
        { name: "ZigzagNetVis", link: "../projects.html" },
        // { name: "Projekt B", link: "#" }
        ],
        "member5-name": "Fatimah Ibrahim",
        "member5-info": "Nätverkssäkerhet, årskurs 2",
        "member5-quote": "Här skriver jag på svenska!",
        "member5-projects": [
        { name: "ZigzagNetVis", link: "../projects.html" },
        // { name: "Projekt B", link: "#" }
        ],
        "member6-name": "Maciej Jan Korzenecki",
        "member6-info": "Software Technology, årskurs 2",
        "member6-quote": "Här skriver jag på svenska!",
        "member6-projects": [
        { name: "CopyFlyouts", link: "https://github.com/krznck/CopyFlyouts" },
        // { name: "Projekt B", link: "#" }
        ],
        "member7-name": "Martim R de Oliveira",
        "member7-info": "Programnamn, studieår",
        "member7-quote": "Här skriver jag på svenska!",
        "member7-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member8-name": "Alina Schwertfeger",
        "member8-info": "Nätverkssäkerhet, årskurs 2",
        "member8-quote": "Här skriver jag på svenska!",
        "member8-projects": [
        { name: "ZigzagNetVis", link: "../projects.html" },
        // { name: "Projekt B", link: "#" }
        ],
        "member9-name": "Anastasiia Zhelizniak",
        "member9-info": "Nätverkssäkerhet, årskurs 2",
        "member9-quote": "Teknik är ett verktyg, men den verkliga magin händer när den används för att göra en positiv inverkan i människors liv",
        "member9-projects": [
        { name: "DyNetVis2", link: "../projects.html" },
        { name: "Vilnerability Website Scanner", link: "https://vulnerability-scanner-f88713ea7401.herokuapp.com" }
        ],
    }
};

// Function to get a cookie
function getCookie(name) {
    const cookies = document.cookie.split("; ");
    for (const cookie of cookies) {
        const [key, value] = cookie.split("=");
        if (key === name) {
            return value;
        }
    }
    return null;
}

// Function to set a cookie
function setCookie(name, value, days) {
    const date = new Date();
    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
    document.cookie = `${name}=${value}; expires=${date.toUTCString()}; path=/; SameSite=Lax`;
}

// Load the saved language as early as possible
function loadSavedLanguage() {
    const savedLanguage = getCookie("selectedLanguage") || "en";
    document.documentElement.lang = savedLanguage; // Set language at document level immediately
}

function changeLanguage(language) {
    document.documentElement.lang = language;
    setCookie("selectedLanguage", language, 30); // Save language preference

    const elements = document.querySelectorAll("[data-lang]");
    elements.forEach((el) => {
        const key = el.getAttribute("data-lang");
        const newText = translations[language][key];

        // only update if the text is different
        if (newText && el.textContent !== newText) {
            el.textContent = newText;
        }
    });
}


// Attach language toggle event
function attachLanguageToggle() {
    const button = document.getElementById("change-language");

    if (button) {
        button.addEventListener("click", (e) => {
            e.preventDefault();
            const currentLang = document.documentElement.lang || "en";
            const newLang = currentLang === "en" ? "sv" : "en";
            changeLanguage(newLang);
        });
    } else {
        console.error("Language toggle button not found.");
    }
}

loadSavedLanguage(); // first apply the cookie to set the document language
changeLanguage(document.documentElement.lang); // then apply the language to the document right away
// then set it up so that once the DOM is loaded, the language toggle button gets its functioanlity
document.addEventListener("DOMContentLoaded", function () {
    attachLanguageToggle(); 
});