// Language translations
const translations = {
    en: {
        "about-title": "About Us",
        "about-description": "We are a group of students who take part in different projects at the university. We help other students as Teaching Assistants in Lab Sessions, we contribute to the current research going on at the university, and support the community work that is done to interest more people in computer science and programming.",
        "header-projects": "Projects",
        "header-events": "Events",
        "header-aboutUs": "About",
        "header-english": "English",
        "header-swedish": "Swedish",
        "TEP-description": "Discover flexible roles that blend teaching support, research practice, and outreach while you study at Linnaeus University.",
        "events-title": "Events & Outreach",
        "events-lead": "Explore community outreach, open houses, and programming activities where TEP students make an impact.",
        "events-instructions": "Click or tap a tile to see location details and language support.",
        "team-title": "Our Team",
        "team-description": "Our team consists of students from around the world studying various programs at LNU.",
        "member1-name": "Member 1",
        "member1-info": "Program name, year of studies",
        "member1-quote": "Here I am writing in English!",
        "member1-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member2-name": "Member 2",
        "member2-info": "Program name, year of studies",
        "member2-quote": "Here I am writing in English!",
        "member2-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member3-name": "Member 3",
        "member3-info": "Program name, year of studies",
        "member3-quote": "Here I am writing in English!",
        "member3-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member4-name": "Member 4",
        "member4-info": "Program name, year of studies",
        "member4-quote": "Here I am writing in English!",
        "member4-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member5-name": "Member 5",
        "member5-info": "Program name, year of studies",
        "member5-quote": "Here I am writing in English!",
        "member5-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member6-name": "Member 6",
        "member6-info": "Program name, year of studies",
        "member6-quote": "Here I am writing in English!",
        "member6-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member7-name": "Member 7",
        "member7-info": "Program name, year of studies",
        "member7-quote": "Here I am writing in English!",
        "member7-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "member8-name": "Member 8",
        "member8-info": "Program name, year of studies",
        "member8-quote": "Here I am writing in English!",
        "member8-projects": [
        { name: "Project A", link: "#" },
        { name: "Project B", link: "#" }
        ],
        "mission-title": "Our Mission",
        "mission-description": "TEP empowers students to grow as educators, researchers, and community leaders while contributing to meaningful projects at Linnaeus University.",
        "mission-point-1": "Develop teaching confidence with guided lab support.",
        "mission-point-2": "Explore applied research in collaboration with faculty.",
        "mission-point-3": "Lead outreach that inspires future students.",
        "mission-events-cta": "See upcoming events",
        "what-is-tep-title": "What is TEP?",
        "what-is-tep-description": "The Tutorial Education Program offers flexible, paid roles for students who want to build their CV, strengthen academic skills, and make a campus-wide impact.",
        "what-is-tep-highlight-1": "Structured mentorship and training with experienced staff.",
        "what-is-tep-highlight-2": "Opportunities to connect coursework with real-world projects.",
        "what-is-tep-highlight-3": "Support for both English and Swedish speaking students.",
        "pillars-title": "Our Three Pillars",
        "pillars-description": "Every participant blends core responsibilities across teaching, research, and community work. You can focus on one track or rotate between them based on interest and availability.",
        "pillar-ta-title": "Teaching Assistance",
        "pillar-ta-description": "Guide lab sessions, answer course questions, and help classmates decode complex concepts.",
        "pillar-ta-point-1": "Flexible mentorship hours that fit around your studies.",
        "pillar-ta-point-2": "Real classroom experience with feedback from instructors.",
        "pillar-research-title": "Research Support",
        "pillar-research-description": "Work alongside faculty on active projects—from data analysis to prototyping and documentation.",
        "pillar-research-point-1": "Hands-on practice using academic tools and methods.",
        "pillar-research-point-2": "Co-create results you can proudly showcase in your CV.",
        "pillar-community-title": "Community Outreach",
        "pillar-community-description": "Design events and workshops that invite new voices into computing and celebrate diversity.",
        "pillar-community-point-1": "Collaborate with schools, associations, and local partners.",
        "pillar-community-point-2": "Inspire future students through interactive activities.",
        "community-title": "Ready To Apply?",
        "community-description": "Join the Tutorial Education Program and help us deliver labs, research support, and outreach across Linnaeus University.",
        "community-cta-primary": "Apply now",
        "community-cta-secondary": "View our members",
        "community-requirement-title": "Prerequisites",
        "community-requirement-1": "Enrolled at Linnaeus University.",
        "community-requirement-2": "Second-year bachelor or master’s student in CS or Media Technology.",
        "community-requirement-3": "Curious about teaching, research, or outreach.",
        "community-workload-title": "Choose Your Workload",
        "community-workload-1": "25% part-time (approx. 10 hours/week).",
        "community-workload-2": "50% part-time (approx. 20 hours/week).",
        "community-workload-3": "Schedule tailored around your courses.",
        "community-support-title": "What You’ll Get",
        "community-support-1": "Mentoring from experienced staff.",
        "community-support-2": "Hands-on experience for your CV.",
        "community-support-3": "Access to events, workshops, and project teams.",
        "event-tag-outreach": "Outreach",
        "event-tag-course": "Course",
        "event-tag-career": "Career",
        "event-tag-openhouse": "Open House",
        "event-digitalidag-name": "Digital Day (Digitalidag)",
        "event-digitalidag-datetime": "October 10th · 13.00–17.00",
        "event-digitalidag-location": "Location: Linnaeus University (details coming soon)",
        "event-digitalidag-language": "Languages: Swedish (information in English available)",
        "event-digitala-kompetensdagen-name": "Digital Competence Day",
        "event-digitala-kompetensdagen-datetime": "October 28th · 08.00–16.00",
        "event-digitala-kompetensdagen-location": "Location: Kalmar campus",
        "event-digitala-kompetensdagen-language": "Languages: Swedish only",
        "event-october-programming-name": "Kids' Programming Course",
        "event-october-programming-datetime": "October 27–29th · 09.00–12.00 or 13.00–16.00",
        "event-october-programming-location": "Location: Växjö learning labs",
        "event-october-programming-language": "Languages: Swedish (support in English)",
        "event-prao-45-name": "PRAO Week 45",
        "event-prao-45-datetime": "Week 45 · 3h per day (flexible)",
        "event-prao-45-location": "Location: Outreach venues in Växjö & Kalmar",
        "event-prao-45-language": "Languages: Swedish (support in English)",
        "event-karriardag-name": "Engineering Career Day",
        "event-karriardag-datetime": "November 18th · 08.00–15.30",
        "event-karriardag-location": "Location: Växjö campus",
        "event-karriardag-language": "Languages: Swedish (information in English available)",
        "event-prao-47-name": "PRAO Week 47",
        "event-prao-47-datetime": "Week 47 · 3h per day (flexible)",
        "event-prao-47-location": "Location: Outreach venues in Växjö & Kalmar",
        "event-prao-47-language": "Languages: Swedish (support in English)",
        "event-february-programming-name": "Kids' Programming Course",
        "event-february-programming-datetime": "February 16–18th · 09.00–12.00 or 13.00–16.00",
        "event-february-programming-location": "Location: Växjö learning labs",
        "event-february-programming-language": "Languages: Swedish (support in English)",
        "event-oppet-hus-vaxjo-name": "Open House · Växjö",
        "event-oppet-hus-vaxjo-datetime": "February 26th · 09.00–15.00",
        "event-oppet-hus-vaxjo-location": "Location: Växjö campus",
        "event-oppet-hus-vaxjo-language": "Languages: Swedish (support in English)",
        "event-oppet-hus-kalmar-name": "Open House · Kalmar",
        "event-oppet-hus-kalmar-datetime": "March 4th · 09.00–15.00",
        "event-oppet-hus-kalmar-location": "Location: Kalmar campus",
        "event-oppet-hus-kalmar-language": "Languages: Swedish (support in English)",
        "event-igeday-name": "IGEDAY",
        "event-igeday-datetime": "March 20th · 09.00–15.00",
        "event-igeday-location": "Location: Växjö campus",
        "event-igeday-language": "Languages: Swedish (information in English available · women only)",
        "event-march-programming-name": "Kids' Programming Course",
        "event-march-programming-datetime": "March 30th–April 1st · 09.00–12.00 or 13.00–16.00",
        "event-march-programming-location": "Location: Växjö learning labs",
        "event-march-programming-language": "Languages: Swedish (support in English)",
        "event-science-linne-name": "Science Linné",
        "event-science-linne-datetime": "April 24–25th",
        "event-science-linne-location": "Location: Kalmar & Växjö campuses",
        "event-science-linne-language": "Languages: Swedish (information in English available)",
        "event-june-programming-name": "Kids' Programming Course",
        "event-june-programming-datetime": "June 15–17th · 09.00–12.00 or 13.00–16.00",
        "event-june-programming-location": "Location: Växjö learning labs",
        "event-june-programming-language": "Languages: Swedish (support in English)",
        "faq-title": "Frequently Asked Questions",
        "faq1-question": "Who can join the Tutorial Education Program?",
        "faq1-answer": "Undergraduate students from their second year onward and master's students enrolled in Computer Science or Media Technology at LNU.",
        "faq2-question": "Do I need previous teaching experience?",
        "faq2-answer": "No. We provide mentoring, onboarding workshops, and resources to help you feel confident supporting your peers.",
        "faq3-question": "How much time do I have to commit?",
        "faq3-answer": "You can work part-time at 25% or 50% depending on course load and availability. We schedule activities to fit your studies.",
        "faq4-question": "What types of projects will I work on?",
        "faq4-answer": "Assignments range from lab tutoring and research support to community workshops, coding clubs, and outreach events.",
    },
    sv: {
        "about-title": "Om Oss",
        "about-description": "Vi är en grupp studenter som deltar i olika projekt på universitetet. Vi hjälper andra studenter som handledare i labbsessioner, bidrar till den pågående forskningen på universitetet och stödjer samhällsarbetet som görs för att intressera fler för datavetenskap och programmering.",
        "header-projects": "Projekt",
        "header-events": "Evenemang",
        "header-aboutUs": "Om Oss",
        "header-english": "Svenska",
        "header-swedish": "Engelska",
        "TEP-description": "Utforska flexibla roller som kombinerar handledning, forskning och outreach medan du studerar vid Linnéuniversitetet.",
        "events-title": "Evenemang & Outreach",
        "events-lead": "Utforska outreach, öppet hus och programmeringsaktiviteter där TEP-studenter gör skillnad.",
        "events-instructions": "Klicka på en ruta för att se plats och språkstöd.",
        "team-title": "Vår Team",
        "team-description": "Vårt team består av studenter från hela världen som studerar olika program vid LNU.",
        "member1-name": "Medlem 1",
        "member1-info": "Programnamn, studieår",
        "member1-quote": "Här skriver jag på svenska!",
        "member1-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member2-name": "Medlem 2",
        "member2-info": "Programnamn, studieår",
        "member2-quote": "Här skriver jag på svenska!",
        "member2-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member3-name": "Medlem 3",
        "member3-info": "Programnamn, studieår",
        "member3-quote": "Här skriver jag på svenska!",
        "member3-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member4-name": "Medlem 4",
        "member4-info": "Programnamn, studieår",
        "member4-quote": "Här skriver jag på svenska!",
        "member4-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member5-name": "Medlem 5",
        "member5-info": "Programnamn, studieår",
        "member5-quote": "Här skriver jag på svenska!",
        "member5-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member6-name": "Medlem 6",
        "member6-info": "Programnamn, studieår",
        "member6-quote": "Här skriver jag på svenska!",
        "member6-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member7-name": "Medlem 7",
        "member7-info": "Programnamn, studieår",
        "member7-quote": "Här skriver jag på svenska!",
        "member7-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "member8-name": "Medlem 8",
        "member8-info": "Programnamn, studieår",
        "member8-quote": "Här skriver jag på svenska!",
        "member8-projects": [
        { name: "Projekt A", link: "#" },
        { name: "Projekt B", link: "#" }
        ],
        "mission-title": "Vårt uppdrag",
        "mission-description": "TEP ger studenter möjlighet att växa som lärare, forskare och samhällsbyggare samtidigt som de bidrar till meningsfulla projekt vid Linnéuniversitetet.",
        "mission-point-1": "Utveckla handledningssäkerhet genom stöd i labbsessioner.",
        "mission-point-2": "Utforska tillämpad forskning tillsammans med lärare.",
        "mission-point-3": "Driv aktiviteter som inspirerar framtida studenter.",
        "mission-events-cta": "Se kommande evenemang",
        "what-is-tep-title": "Vad är TEP?",
        "what-is-tep-description": "Tutorial Education Program erbjuder flexibla, avlönade uppdrag för studenter som vill stärka sitt CV, utveckla akademiska färdigheter och påverka campus.",
        "what-is-tep-highlight-1": "Strukturerad handledning och utbildning av erfarna medarbetare.",
        "what-is-tep-highlight-2": "Möjligheter att koppla kursarbete till verkliga projekt.",
        "what-is-tep-highlight-3": "Stöd för både engelsktalande och svensktalande studenter.",
        "pillars-title": "Våra tre pelare",
        "pillars-description": "Varje deltagare kombinerar ansvar inom undervisning, forskning och samhällsarbete. Du kan fokusera på ett spår eller växla beroende på intresse och tillgänglighet.",
        "pillar-ta-title": "Labb- och undervisningsstöd",
        "pillar-ta-description": "Stötta labbsessioner, svara på kursfrågor och hjälp klasskamrater att förstå svåra koncept.",
        "pillar-ta-point-1": "Flexibla handledningstimmar som passar runt dina studier.",
        "pillar-ta-point-2": "Praktisk klassrumserfarenhet med återkoppling från lärare.",
        "pillar-research-title": "Forskningsstöd",
        "pillar-research-description": "Arbeta tillsammans med lärare i pågående projekt – från dataanalys till prototyper och dokumentation.",
        "pillar-research-point-1": "Praktisk träning i akademiska metoder och verktyg.",
        "pillar-research-point-2": "Skapa resultat som du stolt kan visa i ditt CV.",
        "pillar-community-title": "Samhällsengagemang",
        "pillar-community-description": "Planera evenemang och workshops som bjuder in nya röster till IT och lyfter mångfald.",
        "pillar-community-point-1": "Samarbeta med skolor, föreningar och lokala partners.",
        "pillar-community-point-2": "Inspirera framtida studenter genom interaktiva aktiviteter.",
        "community-title": "Redo att söka?",
        "community-description": "Gå med i Tutorial Education Program och hjälp oss leverera labb, forskningsstöd och outreach på Linnéuniversitetet.",
        "community-cta-primary": "Ansök nu",
        "community-cta-secondary": "Se våra medlemmar",
        "community-requirement-title": "Förkunskaper",
        "community-requirement-1": "Inskriven student vid Linnéuniversitetet.",
        "community-requirement-2": "År 2 på kandidat eller master inom datavetenskap eller medieteknik.",
        "community-requirement-3": "Nyfiken på undervisning, forskning eller outreach.",
        "community-workload-title": "Välj omfattning",
        "community-workload-1": "25 % deltid (ca 10 h/vecka).",
        "community-workload-2": "50 % deltid (ca 20 h/vecka).",
        "community-workload-3": "Schema anpassat efter dina kurser.",
        "community-support-title": "Detta får du",
        "community-support-1": "Mentorskap från erfarna handledare.",
        "community-support-2": "Praktisk erfarenhet till ditt CV.",
        "community-support-3": "Tillgång till evenemang, workshops och projektteam.",
        "event-tag-outreach": "Samhällsengagemang",
        "event-tag-course": "Kurs",
        "event-tag-career": "Karriär",
        "event-tag-openhouse": "Öppet hus",
        "event-digitalidag-name": "Digitalidag",
        "event-digitalidag-datetime": "10 oktober · 13.00–17.00",
        "event-digitalidag-location": "Plats: Linnéuniversitetet (detaljer kommer snart)",
        "event-digitalidag-language": "Språk: Svenska (information på engelska finns)",
        "event-digitala-kompetensdagen-name": "Digitala kompetensdagen",
        "event-digitala-kompetensdagen-datetime": "28 oktober · 08.00–16.00",
        "event-digitala-kompetensdagen-location": "Plats: Campus Kalmar",
        "event-digitala-kompetensdagen-language": "Språk: Endast svenska",
        "event-october-programming-name": "Programmeringskurs för barn",
        "event-october-programming-datetime": "27–29 oktober · 09.00–12.00 eller 13.00–16.00",
        "event-october-programming-location": "Plats: Lärlabb i Växjö",
        "event-october-programming-language": "Språk: Svenska (stöd på engelska)",
        "event-prao-45-name": "PRAO vecka 45",
        "event-prao-45-datetime": "Vecka 45 · 3 h per dag (flexibelt)",
        "event-prao-45-location": "Plats: Utåtriktade arenor i Växjö & Kalmar",
        "event-prao-45-language": "Språk: Svenska (stöd på engelska)",
        "event-karriardag-name": "Karriärdag teknik",
        "event-karriardag-datetime": "18 november · 08.00–15.30",
        "event-karriardag-location": "Plats: Campus Växjö",
        "event-karriardag-language": "Språk: Svenska (information på engelska finns)",
        "event-prao-47-name": "PRAO vecka 47",
        "event-prao-47-datetime": "Vecka 47 · 3 h per dag (flexibelt)",
        "event-prao-47-location": "Plats: Utåtriktade arenor i Växjö & Kalmar",
        "event-prao-47-language": "Språk: Svenska (stöd på engelska)",
        "event-february-programming-name": "Programmeringskurs för barn",
        "event-february-programming-datetime": "16–18 februari · 09.00–12.00 eller 13.00–16.00",
        "event-february-programming-location": "Plats: Lärlabb i Växjö",
        "event-february-programming-language": "Språk: Svenska (stöd på engelska)",
        "event-oppet-hus-vaxjo-name": "Öppet hus · Växjö",
        "event-oppet-hus-vaxjo-datetime": "26 februari · 09.00–15.00",
        "event-oppet-hus-vaxjo-location": "Plats: Campus Växjö",
        "event-oppet-hus-vaxjo-language": "Språk: Svenska (stöd på engelska)",
        "event-oppet-hus-kalmar-name": "Öppet hus · Kalmar",
        "event-oppet-hus-kalmar-datetime": "4 mars · 09.00–15.00",
        "event-oppet-hus-kalmar-location": "Plats: Campus Kalmar",
        "event-oppet-hus-kalmar-language": "Språk: Svenska (stöd på engelska)",
        "event-igeday-name": "IGEDAY",
        "event-igeday-datetime": "20 mars · 09.00–15.00",
        "event-igeday-location": "Plats: Campus Växjö",
        "event-igeday-language": "Språk: Svenska (information på engelska finns · endast kvinnor)",
        "event-march-programming-name": "Programmeringskurs för barn",
        "event-march-programming-datetime": "30 mars–1 april · 09.00–12.00 eller 13.00–16.00",
        "event-march-programming-location": "Plats: Lärlabb i Växjö",
        "event-march-programming-language": "Språk: Svenska (stöd på engelska)",
        "event-science-linne-name": "Science Linné",
        "event-science-linne-datetime": "24–25 april",
        "event-science-linne-location": "Plats: Campus Kalmar & Campus Växjö",
        "event-science-linne-language": "Språk: Svenska (information på engelska finns)",
        "event-june-programming-name": "Programmeringskurs för barn",
        "event-june-programming-datetime": "15–17 juni · 09.00–12.00 eller 13.00–16.00",
        "event-june-programming-location": "Plats: Lärlabb i Växjö",
        "event-june-programming-language": "Språk: Svenska (stöd på engelska)",
        "faq-title": "Vanliga frågor",
        "faq1-question": "Vilka kan delta i Tutorial Education Program?",
        "faq1-answer": "Kandidatstudenter från och med år två samt masterstudenter inskrivna på Datavetenskap eller Medieteknik vid LNU.",
        "faq2-question": "Behöver jag tidigare undervisningserfarenhet?",
        "faq2-answer": "Nej. Vi erbjuder mentorskap, introduktionsworkshops och resurser som gör att du känner dig trygg i rollen.",
        "faq3-question": "Hur mycket tid måste jag lägga?",
        "faq3-answer": "Du kan arbeta deltid på 25% eller 50% beroende på studietakt och tillgänglighet. Vi planerar aktiviteterna så att de fungerar med dina studier.",
        "faq4-question": "Vilka typer av projekt får jag arbeta med?",
        "faq4-answer": "Uppdragen spänner från labbhandledning och forskningsstöd till workshops, kodklubbar och andra outreach-aktiviteter.",
    }
};

// Function to get a cookie
function getCookie(name) {
    const cookies = document.cookie.split("; ");
    for (const cookie of cookies) {
        const [key, value] = cookie.split("=");
        if (key === name) {
            return value;
        }
    }
    return null;
}

// Function to set a cookie
function setCookie(name, value, days) {
    const date = new Date();
    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
    document.cookie = `${name}=${value}; expires=${date.toUTCString()}; path=/; SameSite=Lax`;
}

// Load the saved language as early as possible
function loadSavedLanguage() {
    const savedLanguage = getCookie("selectedLanguage") || "en";
    document.documentElement.lang = savedLanguage; // Set language at document level immediately
}

function changeLanguage(language) {
    document.documentElement.lang = language;
    setCookie("selectedLanguage", language, 30); // Save language preference

    const elements = document.querySelectorAll("[data-lang]");
    elements.forEach((el) => {
        const key = el.getAttribute("data-lang");
        const newText = translations[language][key];

        // only update if the text is different
        if (newText && el.textContent !== newText) {
            el.textContent = newText;
        }
    });

    window.dispatchEvent(new CustomEvent("languagechange", {
        detail: { language }
    }));
}


// Attach language toggle event
function attachLanguageToggle() {
    const button = document.getElementById("change-language");

    if (button) {
        button.addEventListener("click", (e) => {
            e.preventDefault();
            const currentLang = document.documentElement.lang || "en";
            const newLang = currentLang === "en" ? "sv" : "en";
            changeLanguage(newLang);
        });
    } else {
        console.error("Language toggle button not found.");
    }
}

loadSavedLanguage(); // first apply the cookie to set the document language
changeLanguage(document.documentElement.lang); // then apply the language to the document right away
// then set it up so that once the DOM is loaded, the language toggle button gets its functioanlity
document.addEventListener("DOMContentLoaded", function () {
    attachLanguageToggle(); 
});
